{"filter":false,"title":"show.html.erb","tooltip":"/app/views/users/show.html.erb","undoManager":{"mark":3,"position":3,"stack":[[{"start":{"row":19,"column":6},"end":{"row":20,"column":0},"action":"insert","lines":["",""],"id":2},{"start":{"row":20,"column":0},"end":{"row":21,"column":0},"action":"insert","lines":["",""]}],[{"start":{"row":21,"column":0},"end":{"row":107,"column":13},"action":"insert","lines":["<div style=\"width:100%;height:512px;\" id=\"container\"></div>","\t\t\t\t<script type=\"text/javascript\" src=\"http://api.map.baidu.com/library/TrafficControl/1.2/src/TrafficControl_min.js\"></script>","\t\t\t\t<script type=\"text/javascript\">","\t\t\t\t    //创建地图实例","\t\t\t\t\tvar map = new BMap.Map(\"container\");","\t\t\t\t   \t// 初始化地图,设置中心点坐标和地图级别","\t\t\t\t\tmap.setMapStyle({style:'light'});  ","\t\t\t\t\tmap.centerAndZoom(new BMap.Point(114.371, 30.544), 16); ","\t\t\t\t\t","\t\t\t\t\t//添加地图类型控件","\t\t\t\t\t//map.addControl(new BMap.MapTypeControl());   ","\t\t\t\t\tvar ctrl = new BMapLib.TrafficControl();      ","\t\t\t\t\tmap.addControl(ctrl);","\t\t\t\t\tctrl.setAnchor(BMAP_ANCHOR_BOTTOM_RIGHT); ","\t\t\t\t\t","\t\t\t\t\t// 添加平移缩放控件","\t\t\t\t\tmap.addControl(new BMap.NavigationControl()); ","\t\t\t\t\t","\t\t\t\t\t// 添加比例尺控件","\t\t\t\t\tmap.addControl(new BMap.ScaleControl()); ","\t\t\t\t\t","\t\t\t\t\t// 设置地图城市 此项必选","\t\t\t\t\tmap.setCurrentCity(\"北京\");    ","\t\t\t\t\t","\t\t\t\t\t//开启鼠标滚轮缩放","\t\t\t\t\tmap.enableScrollWheelZoom(true);   ","\t\t\t\t\t","\t\t\t\t\t// 地图西南角和东北角","\t\t\t\t\tvar SW = new BMap.Point(114.09579,30.792);","\t\t\t\t\tvar NE = new BMap.Point(114.675451,30.192);","","\t\t\t\t\tgroundOverlayOptions = {","\t\t\t\t\t\topacity: 1,","\t\t\t\t\t\tdisplayOnMinLevel: 10,","\t\t\t\t\t\tdisplayOnMaxLevel: 14","\t\t\t\t\t}","","\t\t\t\t\t// IP定位","\t\t\t\t\tvar point = new BMap.Point(114.371, 30.544);","\t\t\t\t\tmap.centerAndZoom(point,12);","","\t\t\t\t\tfunction myFun(result){","\t\t\t\t\t\tvar cityName = result.name;","\t\t\t\t\t\tmap.setCenter(cityName);","\t\t\t\t\t\talert(\"当前定位城市:\"+cityName);","\t\t\t\t\t}","\t\t\t\t\tvar myCity = new BMap.LocalCity();","\t\t\t\t\tmyCity.get(myFun);","\t\t\t\t\t","\t\t\t\t\tmap.addTileLayer(new BMap.PanoramaCoverageLayer());","","\t\t\t\t\t//构造全景控件","\t\t\t\t\tvar stCtrl = new BMap.PanoramaControl(); ","\t\t\t\t\tstCtrl.setOffset(new BMap.Size(20, 20));","\t\t\t\t\t","\t\t\t\t\t//添加全景控件","\t\t\t\t\tmap.addControl(stCtrl);","\t\t\t\t\t","\t\t\t\t\t// 初始化GroundOverlay","\t\t\t\t\tvar groundOverlay = new BMap.GroundOverlay(new BMap.Bounds(SW, NE), groundOverlayOptions);","","\t\t\t\t\t// 设置GroundOverlay的图片地址","\t\t\t\t\tgroundOverlay.setImageURL('http://lbsyun.baidu.com/jsdemo/img/si-huan.png');","","\t\t\t\t\t// 单击事件","\t\t\t\t\tgroundOverlay.addEventListener('click', function (clickEvent) {","\t\t\t\t\t// console.log('clickEvent', clickEvent);","\t\t\t\t\t });","","\t\t\t\t\t// 双击事件","\t\t\t\t\tgroundOverlay.addEventListener('dblclick', function (dblclickEvent) {","\t\t\t\t\t// console.log('dblclickEvent', dblclickEvent);","\t\t\t\t\t});","","\t\t\t\t\tfunction addGroundOverlay() {","\t\t\t\t\t// 添加GroundOverlay","\t\t\t\t\t\tmap.addOverlay(groundOverlay);","\t\t\t\t\t}","","\t\t\t\t\tfunction removeGroundOverlay() {","\t\t\t\t\t// 移除GroundOverlay","\t\t\t\t\t\tmap.removeOverlay(groundOverlay);","\t\t\t\t\t}","\t\t\t\t\t","\t\t\t\t\t","\t\t\t\t   ","\t\t\t\t</script>"],"id":3}],[{"start":{"row":21,"column":59},"end":{"row":22,"column":0},"action":"insert","lines":["",""],"id":4}],[{"start":{"row":23,"column":128},"end":{"row":24,"column":0},"action":"insert","lines":["",""],"id":5},{"start":{"row":24,"column":0},"end":{"row":24,"column":4},"action":"insert","lines":["\t\t\t\t"]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":24,"column":4},"end":{"row":24,"column":4},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1548306746132,"hash":"49522477db00866763f06252d2d785b073e3e8a9"}